(this.webpackJsonpbetterme=this.webpackJsonpbetterme||[]).push([[0],{27:function(e,t,a){e.exports=a(64)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},46:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(5),i=a.n(o),s=a(3),c=(a(37),a(38),a(2)),l=a(23),u=a(24),p=Object(c.combineReducers)({repositories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_REPOSITORIES_SUCCESS":return t.payload.repositories;default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE":return t.payload.page;default:return e}},totalPages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOTAL_PAGES":return t.payload.pages;default:return e}},searchQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_QUERY":return t.payload.query;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_REPOSITORIES_START":return null;case"GET_REPOSITORIES_ERROR":return t.payload.error;default:return e}}}),m=Object(c.combineReducers)({searcher:p}),h=Object(l.composeWithDevTools)(Object(c.applyMiddleware)(u.a)),g=Object(c.createStore)(m,h),d=a(6),E=a(7),f=a(9),y=a(8),S=(a(39),a(40),function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.handleChangeQuery=function(t){e.setState({query:t.target.value})},e.handleSubmitSearchForm=function(t){t.preventDefault();var a=e.state.query;a?(0,e.props.onSearch)(a.toLowerCase()):console.log("Type some query")},e}return Object(E.a)(a,[{key:"render",value:function(){var e=this.state.query;return n.a.createElement("section",{className:"Searchbar"},n.a.createElement("form",{onSubmit:this.handleSubmitSearchForm,className:"SearchForm"},n.a.createElement("input",{onChange:this.handleChangeQuery,className:"SearchForm-input",value:e,type:"text",placeholder:"Search repositories...",autoComplete:"off"}),n.a.createElement("button",{type:"submit",className:"SearchForm-button"},n.a.createElement("span",{className:"SearchForm-button-label"},"Search"))))}}]),a}(r.Component)),v=Object(s.b)(null,(function(e){return{onSearch:function(t){return e(function(e){return{type:"SET_SEARCH_QUERY",payload:{query:e}}}(t))}}}))(S),b=(a(41),a(42),function(e){var t=e.repository;return n.a.createElement("li",{className:"repository"},n.a.createElement("article",{className:"repository-header"},n.a.createElement("a",{href:t.html_url,className:"repository-header-link"},t.name),n.a.createElement("div",{className:"star-wrapper"},n.a.createElement("span",{className:"repository-star"}),n.a.createElement("p",{className:"repository-star-counter"},t.stargazers_count))),n.a.createElement("p",{className:"repository-description"},t.description))}),O=function(e){return e.searcher.repositories},R=function(e){return e.searcher.page},N=function(e){return e.searcher.totalPages},T=function(e){return e.searcher.searchQuery},C=Object(s.b)((function(e){return{repositories:O(e)}}),{})((function(e){var t=e.repositories,a=void 0===t?[]:t;return n.a.createElement("section",{className:"repositories"},n.a.createElement("ul",{className:"repositories-list"},a.map((function(e){return n.a.createElement(b,{key:e.id,repository:e})}))))})),_=a(25),P=a.n(_),j=(a(46),Object(s.b)((function(e){return{page:R(e),totalPages:N(e)}}),(function(e){return{setPage:function(t){return e(function(e){return{type:"SET_PAGE",payload:{page:e}}}(t))}}}))((function(e){e.page;var t=e.totalPages,a=e.setPage;return n.a.createElement("section",{className:"pagination"},n.a.createElement(P.a,{pageCount:t,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){a(e.selected+1)},containerClassName:"pagination-list",pageClassName:"pagination-list-item",previousClassName:"pagination-list-item",nextClassName:"pagination-list-item",breakClassName:"pagination-list-item",disabledClassName:"pagination-list-item_disabled",activeClassName:"pagination-list-item_active",pageLinkClassName:"pagination-list-link",previousLinkClassName:"pagination-list-link",nextLinkClassName:"pagination-list-link"}))}))),k=a(26),I=a.n(k),w=function(e,t){return I.a.get("https://api.github.com/search/repositories?page=".concat(e,"&q=").concat(t,"&sort=stars"))},A={getRepositories:function(e,t){return function(a){a({type:"GET_REPOSITORIES_START"}),w(e,t).then((function(e){a({type:"GET_REPOSITORIES_SUCCESS",payload:{repositories:e.data.items}}),a(function(e){return{type:"TOTAL_PAGES",payload:{pages:e}}}(Math.ceil(e.data.total_count/30)))})).catch((function(e){return a({type:"GET_REPOSITORIES_ERROR",payload:{error:e}})}))}}},G=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.page,r=t.searchQuery,n=t.getRepositories;e.page===a&&e.searchQuery===r||n(a,r)}},{key:"render",value:function(){var e=this.props.repositories;return n.a.createElement("div",{className:"main-wrapper"},n.a.createElement("header",{className:"main-header"},n.a.createElement(v,null),e.length>0&&n.a.createElement(C,null),e.length>0&&n.a.createElement(j,null)))}}]),a}(r.Component),Q=Object(s.b)((function(e){return{repositories:O(e),page:R(e),searchQuery:T(e)}}),A)(G);i.a.render(n.a.createElement(s.a,{store:g},n.a.createElement(Q,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.f271c5a7.chunk.js.map